(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3fab40be"],{"26e5":function(t,e,i){},"4bd4":function(t,e,i){"use strict";i("26e5");var n=i("94ab");e["a"]={name:"v-form",mixins:[Object(n["b"])("form")],inheritAttrs:!1,props:{value:Boolean,lazyValidation:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(){var t=Object.values(this.errorBag).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,i=function(t){return t.$watch("hasError",function(i){e.$set(e.errorBag,t._uid,i)},{immediate:!0})},n={_uid:t._uid,valid:void 0,shouldValidate:void 0};return this.lazyValidation?n.shouldValidate=t.$watch("shouldValidate",function(s){s&&(e.errorBag.hasOwnProperty(t._uid)||(n.valid=i(t)))}):n.valid=i(t),n},validate:function(){var t=this.inputs.filter(function(t){return!t.validate(!0)}).length;return!t},reset:function(){for(var t=this,e=this.inputs.length;e--;)this.inputs[e].reset();this.lazyValidation&&setTimeout(function(){t.errorBag={}},0)},resetValidation:function(){for(var t=this,e=this.inputs.length;e--;)this.inputs[e].resetValidation();this.lazyValidation&&setTimeout(function(){t.errorBag={}},0)},register:function(t){var e=this.watchInput(t);this.inputs.push(t),this.watchers.push(e)},unregister:function(t){var e=this.inputs.find(function(e){return e._uid===t._uid});if(e){var i=this.watchers.find(function(t){return t._uid===e._uid});i.valid&&i.valid(),i.shouldValidate&&i.shouldValidate(),this.watchers=this.watchers.filter(function(t){return t._uid!==e._uid}),this.inputs=this.inputs.filter(function(t){return t._uid!==e._uid}),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:Object.assign({novalidate:!0},this.$attrs),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}}},"886e":function(t,e,i){},"8f95":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.bike?i("div",[i("v-card",{attrs:{flat:""}},[i("v-container",{attrs:{fluid:""}},[i("v-toolbar",{attrs:{flat:""}},[i("v-toolbar-title",[t._v("Booking Details")])],1),i("v-list",[i("v-list-tile",[i("v-list-tile-avatar",[i("img",{attrs:{src:t.bike.imageUrl}})]),i("v-list-tile-content",[i("v-list-tile-title",{staticClass:"font-weight-bold"},[t._v(t._s(t.bike.title))]),i("v-list-tile-sub-title",[t._v(t._s(t.bike.description))])],1),i("v-list-tile-action",[i("span",{staticClass:"font-weight-bold"},[t._v("\n              $"+t._s(t.bike.price)+"\n            ")]),i("v-list-tile-action-text",[t._v("1 day")])],1)],1)],1),i("v-divider"),i("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:"",md6:"","px-2":""}},[i("h3",{staticClass:"my-3"},[t._v("Departure")]),i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:"",sm8:"","px-1":""}},[i("v-menu",{attrs:{"close-on-content-click":!1,lazy:"","offset-y":"","full-width":"","min-width":"290px"},model:{value:t.deDateMenu,callback:function(e){t.deDateMenu=e},expression:"deDateMenu"}},[i("v-text-field",{attrs:{slot:"activator",rules:[function(t){return!!t||"Please choose start date!"}],readonly:"",required:"",outline:"",label:"Start Date",hint:"YYYY-MM-DD","persistent-hint":""},slot:"activator",model:{value:t.booking.start.date,callback:function(e){t.$set(t.booking.start,"date",e)},expression:"booking.start.date"}}),i("v-date-picker",{attrs:{"date-format":function(t){return new Date(t).toDateString()},"header-color":"grey",min:t.today},on:{input:function(e){t.deDateMenu=!1}},model:{value:t.booking.start.date,callback:function(e){t.$set(t.booking.start,"date",e)},expression:"booking.start.date"}})],1)],1),i("v-flex",{attrs:{xs12:"",sm4:"","px-1":""}},[i("v-menu",{attrs:{"close-on-content-click":!1,lazy:"","offset-y":"","full-width":"","max-width":"290px"},model:{value:t.deTimeMenu,callback:function(e){t.deTimeMenu=e},expression:"deTimeMenu"}},[i("v-text-field",{attrs:{slot:"activator",rules:[function(t){return!!t||"Please choose start time!"}],readonly:"",outline:"",label:"Time"},slot:"activator",model:{value:t.booking.start.time,callback:function(e){t.$set(t.booking.start,"time",e)},expression:"booking.start.time"}}),i("v-time-picker",{attrs:{"header-color":"grey","allowed-hours":t.allowedHours,"allowed-minutes":t.allowedMin},model:{value:t.booking.start.time,callback:function(e){t.$set(t.booking.start,"time",e)},expression:"booking.start.time"}},[i("v-layout",[i("v-spacer"),i("v-btn",{attrs:{flat:""},on:{click:function(e){t.deTimeMenu=!1}}},[t._v("OK")])],1)],1)],1)],1)],1),i("v-select",{attrs:{rules:[function(t){return!!t||"Please choose departure city!"}],outline:"",items:t.locations,"item-text":"text","item-value":"value",label:"Departure City",required:""},model:{value:t.booking.start.location,callback:function(e){t.$set(t.booking.start,"location",e)},expression:"booking.start.location"}}),i("v-text-field",{attrs:{required:"",rules:[function(t){return!!t||"Please enter delivery address!"}],outline:"",label:"Delivery Address"},model:{value:t.booking.start.address,callback:function(e){t.$set(t.booking.start,"address",e)},expression:"booking.start.address"}})],1),i("v-flex",{attrs:{xs12:"",md6:"","px-2":""}},[i("h3",{staticClass:"my-3"},[t._v("Returning")]),i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:"",sm8:"","px-1":""}},[i("v-menu",{attrs:{"close-on-content-click":!1,lazy:"","offset-y":"","full-width":"","max-width":"290px"},model:{value:t.reDateMenu,callback:function(e){t.reDateMenu=e},expression:"reDateMenu"}},[i("v-text-field",{attrs:{slot:"activator",rules:[function(t){return!!t||"Please choose end date!"}],required:"",readonly:"",outline:"",label:"End Date",hint:"YYYY-MM-DD"},slot:"activator",model:{value:t.booking.end.date,callback:function(e){t.$set(t.booking.end,"date",e)},expression:"booking.end.date"}}),i("v-date-picker",{attrs:{"date-format":function(t){return new Date(t).toDateString()},"header-color":"grey",min:t.tomorrow},on:{input:function(e){t.reDateMenu=!1}},model:{value:t.booking.end.date,callback:function(e){t.$set(t.booking.end,"date",e)},expression:"booking.end.date"}})],1)],1),i("v-flex",{attrs:{xs12:"",sm4:"","px-1":""}},[i("v-menu",{attrs:{"close-on-content-click":!1,lazy:"","offset-y":"","full-width":"","max-width":"290px"},model:{value:t.reTimeMenu,callback:function(e){t.reTimeMenu=e},expression:"reTimeMenu"}},[i("v-text-field",{attrs:{slot:"activator",readonly:"",outline:"",label:"Time","persistent-hint":""},slot:"activator",model:{value:t.booking.end.time,callback:function(e){t.$set(t.booking.end,"time",e)},expression:"booking.end.time"}}),i("v-time-picker",{attrs:{"header-color":"grey","allowed-hours":t.allowedHours,"allowed-minutes":t.allowedMin},model:{value:t.booking.end.time,callback:function(e){t.$set(t.booking.end,"time",e)},expression:"booking.end.time"}},[i("v-layout",[i("v-spacer"),i("v-btn",{attrs:{flat:""},on:{click:function(e){t.reTimeMenu=!1}}},[t._v("OK")])],1)],1)],1)],1)],1),i("v-select",{attrs:{outline:"",items:t.locations,"item-text":"text","item-value":"value",rules:[function(t){return!!t||"Please choose arrival city!"}],required:"",label:"Arrival City"},model:{value:t.booking.end.location,callback:function(e){t.$set(t.booking.end,"location",e)},expression:"booking.end.location"}}),i("v-text-field",{attrs:{outline:"",rules:[function(t){return!!t||"Please enter returning address!"}],required:"",label:"Returning Address"},model:{value:t.booking.end.address,callback:function(e){t.$set(t.booking.end,"address",e)},expression:"booking.end.address"}}),i("v-flex",{attrs:{"offset-xs6":"","offset-sm8":""}},[i("v-select",{attrs:{label:"Bike quantity",outline:"",items:[1,2,3,4,5]},model:{value:t.booking.quantity,callback:function(e){t.$set(t.booking,"quantity",e)},expression:"booking.quantity"}})],1)],1)],1)],1),i("v-divider"),i("v-flex",{attrs:{"offset-sm6":"","offset-md8":""}},[i("v-list",[i("v-list-tile",[i("v-list-tile-content",[i("v-list-tile-title",[t._v("Number of Bike(s)")])],1),i("v-list-tile-action",[t._v(t._s(t.booking.quantity))])],1),i("v-list-tile",[i("v-list-tile-content",[i("v-list-tile-title",[t._v("Number of Day(s)")])],1),i("v-list-tile-action",[t._v(t._s(t.dayNumber))])],1),i("v-list-tile",[i("v-list-tile-content",[i("v-list-tile-title",{staticClass:"font-weight-bold"},[t._v("Sub Total")])],1),i("v-list-tile-action",{staticClass:"font-weight-bold"},[t._v("$"+t._s(t.bike.price*t.dayNumber*t.booking.quantity))])],1)],1)],1),i("v-card-actions",[i("v-layout",{attrs:{wrap:"","justify-space-between":""}},[i("v-flex",{attrs:{"py-1":"",xs12:"",sm4:""}},[i("v-btn",{attrs:{disabled:t.btnDisabled,block:""},on:{click:t.saveBooking}},[i("v-icon",{attrs:{small:"",left:""}},[t._v("bookmark")]),t._v("save and continue")],1)],1),i("v-flex",{attrs:{"py-1":"",xs12:"",sm4:""}},[i("v-btn",{attrs:{disabled:t.btnDisabled,block:"",color:"amber"},on:{click:t.checkOut}},[t._v("check out"),i("v-icon",{attrs:{right:""}},[t._v("arrow_right")])],1)],1)],1)],1)],1)],1)],1):t._e()},s=[],o=i("2f62"),a={props:["booking","dayNumber","today","tomorrow","btnDisabled","locations"],data(){return{bikeId:null,deDateMenu:!1,deTimeMenu:!1,reDateMenu:!1,reTimeMenu:!1,valid:!0}},computed:{...Object(o["c"])(["bikeById","signedInUser"]),bike(){return this.bikeById(this.bikeId)}},mounted(){this.bikeId=this.booking.bikeId},watch:{},methods:{allowedMin:t=>t%5===0,allowedHours:t=>t>=6&&t<=20,saveBooking(){this.$refs.form.validate()&&this.$emit("save",this.booking)},checkOut(){this.$refs.form.validate()&&this.$emit("checkout",this.booking)},countDay(){this.$emit("count-day",this.dayNumber)}}},r=a,l=i("2877"),u=i("6544"),c=i.n(u),d=i("8336"),h=i("b0af"),m=i("99d9"),v=i("a523"),f=i("2e4b"),p=i("ce7e"),b=i("0e8f"),g=i("4bd4"),k=i("132d"),y=i("a722"),w=i("8860"),x=i("ba95"),M=i("40fe"),_=i("5d23"),V=i("c954"),D=i("e449"),H=i("b56d"),$=i("9910"),P=i("2677"),C=(i("b4e0"),i("3c96")),T=i("50de"),B={name:"v-time-picker-title",mixins:[C["a"]],props:{ampm:Boolean,hour:Number,minute:Number,period:{type:String,validator:function(t){return"am"===t||"pm"===t}},readonly:Boolean,selectingHour:Boolean},methods:{genTime:function(){var t=this.hour;this.ampm&&(t=t?(t-1)%12+1:12);var e=null==this.hour?"--":this.ampm?t:Object(T["a"])(t),i=null==this.minute?"--":Object(T["a"])(this.minute);return this.$createElement("div",{class:"v-time-picker-title__time"},[this.genPickerButton("selectingHour",!0,e),this.$createElement("span",":"),this.genPickerButton("selectingHour",!1,i)])},genAmPm:function(){return this.$createElement("div",{staticClass:"v-time-picker-title__ampm"},[this.genPickerButton("period","am","am",this.readonly),this.genPickerButton("period","pm","pm",this.readonly)])}},render:function(t){return t("div",{staticClass:"v-time-picker-title"},[this.genTime(),this.ampm?this.genAmPm():null])}},A=(i("886e"),i("b64a")),O=i("6a18"),I=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},j={name:"v-time-picker-clock",mixins:[A["a"],O["a"]],props:{allowedValues:Function,double:Boolean,format:{type:Function,default:function(t){return t}},max:{type:Number,required:!0},min:{type:Number,required:!0},scrollable:Boolean,readonly:Boolean,rotate:{type:Number,default:0},step:{type:Number,default:1},value:Number},data:function(){return{inputValue:this.value,isDragging:!1,valueOnMouseDown:null,valueOnMouseUp:null}},computed:{count:function(){return this.max-this.min+1},degreesPerUnit:function(){return 360/this.roundCount},degrees:function(){return this.degreesPerUnit*Math.PI/180},displayedValue:function(){return null==this.value?this.min:this.value},innerRadius:function(){return.62},roundCount:function(){return this.double?this.count/2:this.count}},watch:{value:function(t){this.inputValue=t}},methods:{wheel:function(t){t.preventDefault();var e=Math.sign(t.wheelDelta||1),i=this.displayedValue;do{i+=e,i=(i-this.min+this.count)%this.count+this.min}while(!this.isAllowed(i)&&i!==this.displayedValue);i!==this.displayedValue&&this.update(i)},isInner:function(t){return this.double&&t-this.min>=this.roundCount},handScale:function(t){return this.isInner(t)?this.innerRadius:1},isAllowed:function(t){return!this.allowedValues||this.allowedValues(t)},genValues:function(){for(var t=[],e=this.min;e<=this.max;e+=this.step){var i=e===this.value&&(this.color||"accent");t.push(this.$createElement("span",this.setBackgroundColor(i,{staticClass:"v-time-picker-clock__item",class:{"v-time-picker-clock__item--active":e===this.displayedValue,"v-time-picker-clock__item--disabled":!this.isAllowed(e)},style:this.getTransform(e),domProps:{innerHTML:"<span>"+this.format(e)+"</span>"}})))}return t},genHand:function(){var t="scaleY("+this.handScale(this.displayedValue)+")",e=this.rotate+this.degreesPerUnit*(this.displayedValue-this.min),i=null!=this.value&&(this.color||"accent");return this.$createElement("div",this.setBackgroundColor(i,{staticClass:"v-time-picker-clock__hand",class:{"v-time-picker-clock__hand--inner":this.isInner(this.value)},style:{transform:"rotate("+e+"deg) "+t}}))},getTransform:function(t){var e=this.getPosition(t),i=e.x,n=e.y;return{left:50+50*i+"%",top:50+50*n+"%"}},getPosition:function(t){var e=this.rotate*Math.PI/180;return{x:Math.sin((t-this.min)*this.degrees+e)*this.handScale(t),y:-Math.cos((t-this.min)*this.degrees+e)*this.handScale(t)}},onMouseDown:function(t){t.preventDefault(),this.valueOnMouseDown=null,this.valueOnMouseUp=null,this.isDragging=!0,this.onDragMove(t)},onMouseUp:function(){this.isDragging=!1,null!==this.valueOnMouseUp&&this.isAllowed(this.valueOnMouseUp)&&this.$emit("change",this.valueOnMouseUp)},onDragMove:function(t){if(t.preventDefault(),this.isDragging||"click"===t.type){var e=this.$refs.clock.getBoundingClientRect(),i=e.width,n=e.top,s=e.left,o="touches"in t?t.touches[0]:t,a=o.clientX,r=o.clientY,l={x:i/2,y:-i/2},u={x:a-s,y:n-r},c=Math.round(this.angle(l,u)-this.rotate+360)%360,d=this.double&&this.euclidean(l,u)/i<(1+this.innerRadius)/4,h=Math.round(c/this.degreesPerUnit)+this.min+(d?this.roundCount:0),m=void 0;m=c>=360-this.degreesPerUnit/2?d?this.max-this.roundCount+1:this.min:h,this.isAllowed(h)&&(null===this.valueOnMouseDown&&(this.valueOnMouseDown=m),this.valueOnMouseUp=m,this.update(m))}},update:function(t){this.inputValue!==t&&(this.inputValue=t,this.$emit("input",t))},euclidean:function(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)},angle:function(t,e){var i=2*Math.atan2(e.y-t.y-this.euclidean(t,e),e.x-t.x);return Math.abs(180*i/Math.PI)}},render:function(t){var e=this,i={staticClass:"v-time-picker-clock",class:I({"v-time-picker-clock--indeterminate":null==this.value},this.themeClasses),on:this.readonly?void 0:{mousedown:this.onMouseDown,mouseup:this.onMouseUp,mouseleave:function(){return e.isDragging&&e.onMouseUp()},touchstart:this.onMouseDown,touchend:this.onMouseUp,mousemove:this.onDragMove,touchmove:this.onDragMove},ref:"clock"};return!this.readonly&&this.scrollable&&(i.on.wheel=this.wheel),t("div",i,[t("div",{staticClass:"v-time-picker-clock__inner"},[this.genHand(),this.genValues()])])}},S=i("ea09"),U=i("80d2"),q=function(){function t(t,e){var i=[],n=!0,s=!1,o=void 0;try{for(var a,r=t[Symbol.iterator]();!(n=(a=r.next()).done);n=!0)if(i.push(a.value),e&&i.length===e)break}catch(l){s=!0,o=l}finally{try{!n&&r["return"]&&r["return"]()}finally{if(s)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),N=Object(U["e"])(24),E=Object(U["e"])(12),L=E.map(function(t){return t+12}),z=Object(U["e"])(60),Y={name:"v-time-picker",mixins:[S["a"]],props:{allowedHours:Function,allowedMinutes:Function,format:{type:String,default:"ampm",validator:function(t){return["ampm","24hr"].includes(t)}},min:String,max:String,readonly:Boolean,scrollable:Boolean,value:null},data:function(){return{inputHour:null,inputMinute:null,period:"am",selectingHour:!0}},computed:{isAllowedHourCb:function(){var t=this;if(!this.min&&!this.max)return this.allowedHours;var e=this.min?this.min.split(":")[0]:0,i=this.max?this.max.split(":")[0]:23;return function(n){return n>=1*e&&n<=1*i&&(!t.allowedHours||t.allowedHours(n))}},isAllowedMinuteCb:function(){var t=this,e=!this.allowedHours||this.allowedHours(this.inputHour);if(!this.min&&!this.max)return e?this.allowedMinutes:function(){return!1};var i=this.min?this.min.split(":"):[0,0],n=q(i,2),s=n[0],o=n[1],a=this.max?this.max.split(":"):[23,59],r=q(a,2),l=r[0],u=r[1],c=60*s+1*o,d=60*l+1*u;return function(i){var n=60*t.inputHour+i;return n>=c&&n<=d&&e&&(!t.allowedMinutes||t.allowedMinutes(i))}},isAmPm:function(){return"ampm"===this.format}},watch:{value:"setInputData"},mounted:function(){this.setInputData(this.value)},methods:{emitValue:function(){null!=this.inputHour&&null!=this.inputMinute&&this.$emit("input",Object(T["a"])(this.inputHour)+":"+Object(T["a"])(this.inputMinute))},setPeriod:function(t){if(this.period=t,null!=this.inputHour){var e=this.inputHour+("am"===t?-12:12);this.inputHour=this.firstAllowed("hour",e),this.emitValue()}},setInputData:function(t){if(null==t||""===t)return this.inputHour=null,void(this.inputMinute=null);if(t instanceof Date)this.inputHour=t.getHours(),this.inputMinute=t.getMinutes();else{var e=t.trim().toLowerCase().match(/^(\d+):(\d+)(:\d+)?([ap]m)?$/,"")||[],i=q(e,5),n=i[1],s=i[2],o=i[4];this.inputHour=o?this.convert12to24(parseInt(n,10),o):parseInt(n,10),this.inputMinute=parseInt(s,10)}this.period=this.inputHour<12?"am":"pm"},convert24to12:function(t){return t?(t-1)%12+1:12},convert12to24:function(t,e){return t%12+("pm"===e?12:0)},onInput:function(t){this.selectingHour?this.inputHour=this.isAmPm?this.convert12to24(t,this.period):t:this.inputMinute=t,this.emitValue()},onChange:function(){this.selectingHour?this.selectingHour=!1:this.$emit("change",this.value)},firstAllowed:function(t,e){var i="hour"===t?this.isAllowedHourCb:this.isAllowedMinuteCb;if(!i)return e;var n="minute"===t?z:this.isAmPm?e<12?E:L:N,s=n.find(function(t){return i((t+e)%n.length+n[0])});return((s||0)+e)%n.length+n[0]},genClock:function(){return this.$createElement(j,{props:{allowedValues:this.selectingHour?this.isAllowedHourCb:this.isAllowedMinuteCb,color:this.color,dark:this.dark,double:this.selectingHour&&!this.isAmPm,format:this.selectingHour?this.isAmPm?this.convert24to12:function(t){return t}:function(t){return Object(T["a"])(t,2)},light:this.light,max:this.selectingHour?this.isAmPm&&"am"===this.period?11:23:59,min:this.selectingHour&&this.isAmPm&&"pm"===this.period?12:0,readonly:this.readonly,scrollable:this.scrollable,size:this.width-(!this.fullWidth&&this.landscape?80:20),step:this.selectingHour?1:5,value:this.selectingHour?this.inputHour:this.inputMinute},on:{input:this.onInput,change:this.onChange},ref:"clock"})},genPickerBody:function(){return this.$createElement("div",{staticClass:"v-time-picker-clock__container",key:this.selectingHour},[this.genClock()])},genPickerTitle:function(){var t=this;return this.$createElement(B,{props:{ampm:this.isAmPm,hour:this.inputHour,minute:this.inputMinute,period:this.period,readonly:this.readonly,selectingHour:this.selectingHour},on:{"update:selectingHour":function(e){return t.selectingHour=e},"update:period":this.setPeriod},ref:"title",slot:"title"})}},render:function(){return this.genPicker("v-picker--time")}},F=i("71d9"),R=i("2a7f"),J=Object(l["a"])(r,n,s,!1,null,null,null);J.options.__file="BookingForm.vue";e["a"]=J.exports;c()(J,{VBtn:d["a"],VCard:h["a"],VCardActions:m["a"],VContainer:v["a"],VDatePicker:f["a"],VDivider:p["a"],VFlex:b["a"],VForm:g["a"],VIcon:k["a"],VLayout:y["a"],VList:w["a"],VListTile:x["a"],VListTileAction:M["a"],VListTileActionText:_["a"],VListTileAvatar:V["a"],VListTileContent:_["b"],VListTileSubTitle:_["c"],VListTileTitle:_["d"],VMenu:D["a"],VSelect:H["a"],VSpacer:$["a"],VTextField:P["a"],VTimePicker:Y,VToolbar:F["a"],VToolbarTitle:R["b"]})},b4e0:function(t,e,i){}}]);
//# sourceMappingURL=chunk-3fab40be.c09c3dbc.js.map