(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d5c05a0"],{"26e5":function(t,e,i){},"44e4":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper"},[!t.booking&&t.isSignedIn?i("v-container",{attrs:{"fill-height":""}},[i("v-layout",[i("h1",[t._v("You've not booked any bike, please go to "),i("router-link",{attrs:{to:"rentals"}},[t._v("Rentals")]),t._v(" to book one!")],1)])],1):t._e(),t.booking&&t.isSignedIn?i("v-container",{attrs:{fluid:""}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:"",md5:"","px-2":"","my-2":""}},[i("v-card",{attrs:{flat:""}},[i("v-toolbar",{attrs:{flat:""}},[i("v-toolbar-title",[t._v("Booking Details")])],1),i("v-list",[i("v-list-tile",[i("v-list-tile-avatar",[i("img",{attrs:{src:t.bike.imageUrl}})]),i("v-list-tile-content",[i("v-list-tile-title",{staticClass:"font-weight-bold"},[t._v(t._s(t.bike.title))]),i("v-list-tile-sub-title",[t._v(t._s(t.bike.description))])],1),i("v-list-tile-action",[i("span",{staticClass:"font-weight-bold"},[t._v("\n                  $"+t._s(t.bike.price)+"\n                ")]),i("v-list-tile-action-text",[t._v("1 day")])],1)],1)],1),i("v-divider"),i("v-container",{attrs:{fluid:""}},[i("v-layout",{attrs:{"justify-space-between":"",wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-layout",{attrs:{column:""}},[i("p",{staticClass:"caption grey--text"},[t._v("Start:")]),i("v-flex",[i("h3",{staticClass:"font-weight-bold"},[t._v(t._s(t.booking.start.location))]),i("p",[t._v(t._s(t.booking.start.address))])]),i("v-flex",[i("h3",[t._v(t._s(t.booking.start.date))]),i("p",[t._v(t._s(t.booking.start.time))])])],1)],1),i("v-flex",{attrs:{xs12:""}},[i("v-layout",{attrs:{column:""}},[i("p",{staticClass:"caption grey--text"},[t._v("End:")]),i("v-flex",[i("h3",{staticClass:"font-weight-bold"},[t._v(t._s(t.booking.end.location))]),i("p",[t._v(t._s(t.booking.end.address))])]),i("v-flex",[i("h3",[t._v(t._s(t.booking.end.date))]),i("p",[t._v(t._s(t.booking.end.time))])])],1)],1)],1)],1),i("v-divider"),i("v-container",{attrs:{fluid:""}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",[i("p",[t._v("Quantity:")]),i("p",[t._v("Number of day(s):")]),i("h3",[t._v("Total:")])]),i("v-spacer"),i("v-flex",{staticClass:"text-xs-right"},[i("p",[t._v(t._s(t.booking.quantity))]),i("p",[t._v(t._s(t.booking.dayNumber))]),i("h3",[t._v("$"+t._s(t.booking.quantity*t.booking.dayNumber*t.bike.price))])])],1)],1)],1)],1),i("v-flex",{attrs:{xs12:"",md7:"","px-2":"","my-2":""}},[i("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-card",{attrs:{flat:""}},[i("v-toolbar",{attrs:{flat:""}},[i("v-toolbar-title",[t._v("Personal Information")])],1),i("v-container",[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{"px-1":"",xs12:""}},[i("v-text-field",{attrs:{rules:[function(t){return!!t||"Name is required"}],required:"",outline:"",label:"Full name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),i("v-flex",{attrs:{"px-1":"",xs12:"",sm6:""}},[i("v-text-field",{attrs:{rules:t.emailRules,required:"",outline:"",label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),i("v-flex",{attrs:{"px-1":"",xs12:"",sm6:""}},[i("v-text-field",{attrs:{rules:[function(t){return!!t||"Phone number is required"}],mask:"phone",required:"",outline:"",label:"Phone number"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),i("v-flex",{attrs:{"px-1":"",xs12:"",sm6:""}},[i("v-autocomplete",{attrs:{rules:[function(t){return!!t||"Nationality is required"}],outline:"",items:t.countries,"item-text":"name","item-value":"name",label:"Nationality"},model:{value:t.nation,callback:function(e){t.nation=e},expression:"nation"}})],1),i("v-flex",{attrs:{"px-1":"",xs12:"",sm6:""}},[i("v-text-field",{attrs:{rules:[function(t){return!!t||"ID/Passport number is required"}],required:"",outline:"",label:"ID/Passport number"},model:{value:t.passport,callback:function(e){t.passport=e},expression:"passport"}})],1)],1)],1)],1),i("v-card",{staticClass:"my-3",attrs:{flat:""}},[i("v-toolbar",{attrs:{flat:""}},[i("v-toolbar-title",[t._v("Payment Method")])],1),i("v-container",[i("v-radio-group",{attrs:{rules:[function(t){return!!t||"Choose a payment method to continue"}]},model:{value:t.payment,callback:function(e){t.payment=e},expression:"payment"}},t._l(t.payments,function(t){return i("v-radio",{key:t.value,attrs:{label:t.text,value:t.value}})})),t.showCard?i("v-form",[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{"px-2":"",xs12:"",md6:""}},[i("v-text-field",{attrs:{mask:"credit-card",outline:"",label:"Card Number"},model:{value:t.card.number,callback:function(e){t.$set(t.card,"number",e)},expression:"card.number"}})],1),i("v-flex",{attrs:{"px-2":"",xs12:"",md6:""}},[i("v-text-field",{attrs:{outline:"",label:"Name on Card"},model:{value:t.card.name,callback:function(e){t.$set(t.card,"name",e)},expression:"card.name"}})],1),i("v-flex",{attrs:{"px-2":"",xs6:""}},[i("v-text-field",{attrs:{outline:"",label:"MM/YY"},model:{value:t.card.date,callback:function(e){t.$set(t.card,"date",e)},expression:"card.date"}})],1),i("v-flex",{attrs:{"px-2":"",xs6:""}},[i("v-text-field",{attrs:{outline:"",label:"CVV"},model:{value:t.card.cvv,callback:function(e){t.$set(t.card,"cvv",e)},expression:"card.cvv"}})],1)],1)],1):t._e()],1)],1),i("v-flex",{attrs:{"offset-sm6":""}},[i("v-btn",{attrs:{block:"",color:"amber"},on:{click:t.checkout}},[t._v("complete booking "),i("v-icon",[t._v("arrow_right")])],1)],1)],1)],1)],1)],1):t._e()],1)},n=[],s=i("2f62"),o={data(){return{bike:{},name:"",email:"",phone:null,nation:null,passport:null,payment:null,payments:[{text:"Cash on Delivery",value:1},{text:"Debit/ Credit Card",value:2}],card:{number:null,name:null,date:null,cvv:null},showCard:!1,emailRules:[t=>!!t||"E-mail is required",t=>/.+@.+/.test(t)||"E-mail must be valid"],valid:!0}},computed:{...Object(s["c"])(["signedInUser","countries","isSignedIn"]),booking(){return JSON.parse(localStorage.getItem("booking"))}},watch:{payment(t){this.showCard=2===t},isSignedIn(t){t||(this.addMessage({class:"error",message:"Please sign in to continue!"}),this.displaySignIn(!0))}},created(){const t=this.$store.getters.bikeById(this.booking.bikeId);this.bike=Object.assign({},t),this.name=this.signedInUser.name,this.email=this.signedInUser.email},methods:{...Object(s["b"])(["saveToTransactions","removeBooking","addMessage","displaySignIn"]),checkout(){if(this.$refs.form.validate()){const t=this.booking;t.cost=this.booking.quantity*this.booking.dayNumber*this.bike.price;const e={name:this.name,email:this.email,phone:this.phone,nation:this.nation,passport:this.passport},i={booking:t,info:e,payment:this.payment,uid:this.signedInUser.id};this.saveToTransactions(i).then(()=>{t.id&&(this.removeBooking({id:t.id,uid:this.signedInUser.id}),localStorage.removeItem("booking"))})}}}},r=o,l=(i("b25b"),i("2877")),u=i("6544"),d=i.n(u),c=i("c6a6"),h=i("8336"),v=i("b0af"),f=i("a523"),p=i("ce7e"),m=i("0e8f"),b=i("4bd4"),g=i("132d"),x=i("a722"),y=i("8860"),_=i("ba95"),k=i("40fe"),C=i("5d23"),w=i("c954"),V=(i("a14d"),i("9d26")),I=i("ba87"),$=i("b64a"),S=i("ad54"),T=i("6a18"),B=i("5368"),A=i("94ab"),R=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t};function E(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var O={name:"v-radio",mixins:[$["a"],S["a"],Object(A["a"])("radio","v-radio","v-radio-group"),T["a"]],inheritAttrs:!1,props:{color:{type:String,default:"accent"},disabled:Boolean,label:String,onIcon:{type:String,default:"$vuetify.icons.radioOn"},offIcon:{type:String,default:"$vuetify.icons.radioOff"},readonly:Boolean,value:null},data:function(){return{isActive:!1,isFocused:!1,parentError:!1}},computed:{computedData:function(){return this.setTextColor(!this.parentError&&this.isActive&&this.color,{staticClass:"v-radio",class:R({"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused},this.themeClasses)})},computedColor:function(){return this.isActive?this.color:this.radio.validationState||!1},computedIcon:function(){return this.isActive?this.onIcon:this.offIcon},hasState:function(){return this.isActive||!!this.radio.validationState},isDisabled:function(){return this.disabled||!!this.radio.disabled},isReadonly:function(){return this.readonly||!!this.radio.readonly}},mounted:function(){this.radio.register(this)},beforeDestroy:function(){this.radio.unregister(this)},methods:{genInput:function(){for(var t,e=arguments.length,i=Array(e),a=0;a<e;a++)i[a]=arguments[a];return(t=B["a"].methods.genInput).call.apply(t,[this].concat(E(i)))},genLabel:function(){return this.$createElement(I["a"],{on:{click:this.onChange},attrs:{for:this.id},props:{color:this.radio.validationState||!1,dark:this.dark,focused:this.hasState,light:this.light}},this.$slots.label||this.label)},genRadio:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("radio",R({name:this.radio.name||!!this.radio._uid&&"v-radio-"+this.radio._uid,value:this.value},this.$attrs)),!this.isDisabled&&this.genRipple(this.setTextColor(this.computedColor)),this.$createElement(V["a"],this.setTextColor(this.computedColor,{props:{dark:this.dark,light:this.light}}),this.computedIcon)])},onFocus:function(){this.isFocused=!0},onBlur:function(t){this.isFocused=!1,this.$emit("blur",t)},onChange:function(){this.isDisabled||this.isReadonly||this.isDisabled||this.isActive&&this.radio.mandatory||this.$emit("change",this.value)},onKeydown:function(){}},render:function(t){return t("div",this.computedData,[this.genRadio(),this.genLabel()])}},D=(i("94a7"),i("60d0"),i("c37a")),j=i("5e28"),q={name:"v-radio-group",extends:D["a"],mixins:[j["a"],Object(A["b"])("radio")],model:{prop:"value",event:"change"},provide:function(){return{radio:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},mandatory:{type:Boolean,default:!0},name:String,row:Boolean,value:{default:null}},data:function(){return{internalTabIndex:-1,radios:[]}},computed:{classes:function(){return{"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row}}},watch:{hasError:"setErrorState",internalValue:"setActiveRadio"},mounted:function(){this.setErrorState(this.hasError),this.setActiveRadio()},methods:{genDefaultSlot:function(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{role:"radiogroup"}},D["a"].methods.genDefaultSlot.call(this))},onRadioChange:function(t){this.disabled||(this.hasInput=!0,this.internalValue=t,this.setActiveRadio(),this.$nextTick(this.validate))},onRadioBlur:function(t){t.relatedTarget&&t.relatedTarget.classList.contains("v-radio")||(this.hasInput=!0,this.$emit("blur",t))},register:function(t){t.isActive=this.valueComparator(this.internalValue,t.value),t.$on("change",this.onRadioChange),t.$on("blur",this.onRadioBlur),this.radios.push(t)},setErrorState:function(t){for(var e=this.radios.length;--e>=0;)this.radios[e].parentError=t},setActiveRadio:function(){for(var t=this.radios.length;--t>=0;){var e=this.radios[t];e.isActive=this.valueComparator(this.internalValue,e.value)}},unregister:function(t){t.$off("change",this.onRadioChange),t.$off("blur",this.onRadioBlur);var e=this.radios.findIndex(function(e){return e===t});e>-1&&this.radios.splice(e,1)}}},L=i("9910"),N=i("2677"),F=i("71d9"),P=i("2a7f"),U=Object(l["a"])(r,a,n,!1,null,null,null);U.options.__file="CheckOut.vue";e["default"]=U.exports;d()(U,{VAutocomplete:c["a"],VBtn:h["a"],VCard:v["a"],VContainer:f["a"],VDivider:p["a"],VFlex:m["a"],VForm:b["a"],VIcon:g["a"],VLayout:x["a"],VList:y["a"],VListTile:_["a"],VListTileAction:k["a"],VListTileActionText:C["a"],VListTileAvatar:w["a"],VListTileContent:C["b"],VListTileSubTitle:C["c"],VListTileTitle:C["d"],VRadio:O,VRadioGroup:q,VSpacer:L["a"],VTextField:N["a"],VToolbar:F["a"],VToolbarTitle:P["b"]})},"4bd4":function(t,e,i){"use strict";i("26e5");var a=i("94ab");e["a"]={name:"v-form",mixins:[Object(a["b"])("form")],inheritAttrs:!1,props:{value:Boolean,lazyValidation:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(){var t=Object.values(this.errorBag).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,i=function(t){return t.$watch("hasError",function(i){e.$set(e.errorBag,t._uid,i)},{immediate:!0})},a={_uid:t._uid,valid:void 0,shouldValidate:void 0};return this.lazyValidation?a.shouldValidate=t.$watch("shouldValidate",function(n){n&&(e.errorBag.hasOwnProperty(t._uid)||(a.valid=i(t)))}):a.valid=i(t),a},validate:function(){var t=this.inputs.filter(function(t){return!t.validate(!0)}).length;return!t},reset:function(){for(var t=this,e=this.inputs.length;e--;)this.inputs[e].reset();this.lazyValidation&&setTimeout(function(){t.errorBag={}},0)},resetValidation:function(){for(var t=this,e=this.inputs.length;e--;)this.inputs[e].resetValidation();this.lazyValidation&&setTimeout(function(){t.errorBag={}},0)},register:function(t){var e=this.watchInput(t);this.inputs.push(t),this.watchers.push(e)},unregister:function(t){var e=this.inputs.find(function(e){return e._uid===t._uid});if(e){var i=this.watchers.find(function(t){return t._uid===e._uid});i.valid&&i.valid(),i.shouldValidate&&i.shouldValidate(),this.watchers=this.watchers.filter(function(t){return t._uid!==e._uid}),this.inputs=this.inputs.filter(function(t){return t._uid!==e._uid}),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:Object.assign({novalidate:!0},this.$attrs),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}}},"60d0":function(t,e,i){},"6e89":function(t,e,i){},a14d:function(t,e,i){},b25b:function(t,e,i){"use strict";var a=i("6e89"),n=i.n(a);n.a}}]);
//# sourceMappingURL=chunk-1d5c05a0.0fd25404.js.map