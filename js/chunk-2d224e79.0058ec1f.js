(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d224e79"],{e1b9:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("booking-form",{attrs:{booking:t.booking,dayNumber:t.dayNumber,btnDisabled:t.btnDisabled,today:t.today,locations:t.locations,tomorrow:t.tomorrow},on:{"count-day":t.countDay,checkout:t.checkout,save:t.saveBooking}})},n=[],s=o("8f95"),a=o("2f62"),r={components:{BookingForm:s["a"]},data(){return{booking:{quantity:1,bikeId:null,start:{date:(new Date).toISOString().substr(0,10),time:"6:30",location:null,address:""},end:{date:this.getTomorrow((new Date).toISOString().substr(0,10)),time:"6:30",location:null,address:""}},btnDisabled:!1,locations:[{text:"Huế",value:"Huế"},{text:"Đà Nẵng",value:"Đà Nẵng"},{text:"Hội An",value:"Hội An"}]}},computed:{...Object(a["c"])(["isSignedIn","signedInUser","bookingById"]),deGetTime(){return(new Date(this.booking.start.date).getTime()+36e5*this.getDeHour+6e4*this.getDeMin)/864e5},reGetTime(){return(new Date(this.booking.end.date).getTime()+36e5*this.getReHour+6e4*this.getReMin)/864e5},dayNumber(){return this.deGetTime&&this.reGetTime?this.countDay(this.deGetTime,this.reGetTime):1},getDeHour(){return new Date(this.booking.start.date+","+this.booking.start.time).getHours()},getDeMin(){return new Date(this.booking.start.date+","+this.booking.start.time).getMinutes()},getReHour(){return new Date(this.booking.end.date+","+this.booking.end.time).getHours()},getReMin(){return new Date(this.booking.end.date+","+this.booking.end.time).getMinutes()},today(){return(new Date).toISOString().substring(0,10)},tomorrow(){return this.getTomorrow(this.booking.start.date)},bookingIsValid(){return null!==this.booking.start.date&&""!==this.booking.start.location.value&&""!==this.booking.start.address&&null!==this.booking.start.time&&null!==this.booking.end.date&&""!==this.booking.end.location.value&&""!==this.booking.end.address&&null!==this.booking.end.time&&this.booking.quantity>0&&this.dayNumber>0}},created(){this.booking.bikeId=this.$route.params.id},watch:{isSignedIn(t){t||this.addMessage({show:!0,message:"Please sign in to continue",class:"error"})}},methods:{...Object(a["b"])(["addMessage","clearMessage","saveToBookings"]),saveBooking(){if(this.isSignedIn){const t=this.booking;t.dayNumber=this.dayNumber;const e={booking:t,uid:this.signedInUser.id};this.saveToBookings(e).then(()=>{this.$router.push("/rentals")})}else this.addMessage({message:"Please sign in to continue!",class:"error"})},checkout(){if(this.isSignedIn){const t=this.booking;t.dayNumber=this.dayNumber,localStorage.setItem("booking",JSON.stringify(t)),this.$router.push("/checkout")}else this.addMessage({message:"Please sign in to continue!",class:"error"})},getTomorrow(t){const e=new Date(t);return e.setDate(e.getDate()+1),e.toISOString().substring(0,10)},countDay(t,e){let o=Math.round(e-t);return o<0?0:5<e-t?o+1:o}}},g=r,u=o("2877"),d=Object(u["a"])(g,i,n,!1,null,null,null);d.options.__file="BookingCreate.vue";e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d224e79.0058ec1f.js.map